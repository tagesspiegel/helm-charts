# namespace-permission-manager

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v0.1.0](https://img.shields.io/badge/AppVersion-v0.1.0-informational?style=flat-square)

A Helm chart to deploy the kubernetes-namespace-permission-manager

## Installation

Add Helm repository:

```bash
helm repo add tagesspiegel https://tagesspiegel.github.io/helm-charts
```

Upgrade or install the operator:

```bash
helm upgrade --install \
  my-secret tagesspiegel/namespace-permission-manager
```

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |

## Requirements

| Repository | Name | Version |
|------------|------|---------|

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"tagesspiegel/kubernetes-namespace-permission-manager"` |  |
| image.tag | string | `""` |  |
| imagePullSecrets | list | `[]` |  |
| monitoring | object | `{"enabled":false,"rbacProxy":{"image":{"pullPolicy":"IfNotPresent","repository":"gcr.io/kubebuilder/kube-rbac-proxy","tag":"v0.15.0"},"resources":{}},"service":{"port":8443,"type":"ClusterIP"},"serviceMonitor":{"enabled":false,"namespace":""}}` | Monitoring configuration |
| monitoring.enabled | bool | `false` | Enable Prometheus Operator Monitoring |
| monitoring.rbacProxy | object | `{"image":{"pullPolicy":"IfNotPresent","repository":"gcr.io/kubebuilder/kube-rbac-proxy","tag":"v0.15.0"},"resources":{}}` | RBAC Proxy configuration |
| monitoring.rbacProxy.image | object | `{"pullPolicy":"IfNotPresent","repository":"gcr.io/kubebuilder/kube-rbac-proxy","tag":"v0.15.0"}` | Image to use for the RBAC Proxy |
| monitoring.rbacProxy.image.pullPolicy | string | `"IfNotPresent"` | Image pull policy |
| monitoring.rbacProxy.image.repository | string | `"gcr.io/kubebuilder/kube-rbac-proxy"` | Image repository |
| monitoring.rbacProxy.image.tag | string | `"v0.15.0"` | Tag overrides the image tag whose default is the chart appVersion. |
| monitoring.rbacProxy.resources | object | `{}` | RBAC Proxy resource configuration |
| monitoring.service.port | int | `8443` | Service port |
| monitoring.service.type | string | `"ClusterIP"` | Service configuration |
| monitoring.serviceMonitor | object | `{"enabled":false,"namespace":""}` | ServiceMonitor configuration |
| monitoring.serviceMonitor.enabled | bool | `false` | Enable ServiceMonitor |
| monitoring.serviceMonitor.namespace | string | `""` | Service Monitor namespace |
| nameOverride | string | `""` |  |
| networkPolicy | object | `{"egress":[],"enabled":false,"ingress":[]}` | networkPolicy defines the network access to and from the operator |
| nodeSelector | object | `{}` |  |
| pdb | object | `{"annotations":{},"enabled":false,"maxUnavailable":0,"minAvailable":1}` | pdb defines the pod disruption budget for the operator |
| podAnnotations | object | `{}` |  |
| podSecurityContext.runAsNonRoot | bool | `true` |  |
| rbac.enabled | bool | `true` | rbac.enabled specifies whether RBAC resources should be created If disabled, the operator will use the permissions of the service account the operator is running under |
| rbac.roleRules | list | `[{"apiGroups":["*"],"resources":["*"],"verbs":["*"]}]` | roleRules defines the permissions the operator has access to The operator needs at least access to:   namespaces: [list, get, watch]   roles: [list, get, watch, create, update, delete]   rolebindings: [list, get, watch, create, update, delete]  And to any resource defined in the ns.tagesspiegel.de/rolebinding-subjects, ns.tagesspiegel.de/rolebinding-roleref and ns.tagesspiegel.de/custom-role-rules annotations To simplify the configuration, the operator has access to all resources in all namespaces by default. |
| replicaCount | int | `1` |  |
| resources | object | `{}` |  |
| securityContext.allowPrivilegeEscalation | bool | `false` |  |
| securityContext.capabilities.drop[0] | string | `"ALL"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.create | bool | `true` |  |
| serviceAccount.name | string | `""` |  |
| tolerations | list | `[]` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.3](https://github.com/norwoodj/helm-docs/releases/v1.11.3)
